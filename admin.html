<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Halaman Admin - Lowongan Kerja</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4C/Z2sA2Qc9y+M31sP8/Q4Zf5T2Wn0fF5N2L/Jp/x6W8C/x0z7N5P4zR4l/f7e0Q8L5A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        /* CSS yang Anda berikan, diadaptasi dan ditambahkan */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            text-decoration: none;
        }

        body {
            font-family: 'Lato', sans-serif;
            background-color: #1a2c45; /* Latar belakang dari login page */
            color: #f8f9fa; /* Warna teks umum */
            min-height: 100vh; /* Pastikan body mengambil tinggi penuh viewport */
            display: flex;
            flex-direction: column;
        }

        .container-admin {
            background-color: rgba(255, 255, 255, 0.05); /* Sedikit transparan untuk efek kaca */
            box-shadow: 0 5px 35px rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 30px;
            margin-top: 50px;
            margin-bottom: 50px;
            flex-grow: 1; /* Agar container mengisi ruang yang tersedia */
        }

        .container-admin::after {
            content: '';
            position: absolute;
            top: 5px;
            bottom: 5px;
            right: 5px;
            left: 5px;
            pointer-events: none;
            border-radius: 10px;
            background-image: linear-gradient(
                to bottom,
                rgba(255, 255, 255, 0.05) 0%, /* Disesuaikan agar lebih halus */
                rgba(255, 255, 255, 0.02) 15%,
                transparent 50%,
                transparent 85%,
                rgba(255, 255, 255, 0.05) 100%
            );
        }

        h2 {
            color: #ffffff;
            text-align: center;
            margin-bottom: 30px;
        }

        .table {
            background-color: rgba(255, 255, 255, 0.1); /* Latar belakang tabel transparan */
            color: #ffffff; /* Warna teks tabel */
            border-radius: 8px;
            overflow: hidden; /* Penting untuk border-radius pada tabel */
        }

        .table thead {
            background-color: #0b1a2f; /* Warna header yang lebih gelap */
        }

        .table thead th {
            color: #ffffff;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            padding: 15px 10px;
        }

        .table tbody tr {
            transition: background-color 0.3s ease;
        }

        .table tbody tr:hover {
            background-color: rgba(255, 255, 255, 0.15); /* Efek hover pada baris */
        }

        .table tbody td {
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            padding: 12px 10px;
            vertical-align: middle;
        }

        .table-action-col {
            width: 80px; /* Lebar kolom aksi */
            text-align: center;
        }

        .btn-danger {
            background-color: #dc3545; /* Merah standar Bootstrap */
            border-color: #dc3545;
            transition: all 0.3s ease;
        }

        .btn-danger:hover {
            background-color: #c82333;
            border-color: #bd2130;
            transform: translateY(-2px); /* Efek angkat sedikit */
        }

        .no-data-message {
            color: #adb5bd; /* Warna teks abu-abu terang */
            padding: 20px;
            border: 1px dashed rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            margin-top: 20px;
        }

        .navbar {
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .navbar-brand, .nav-link {
            color: #ffffff !important;
        }

        .navbar-brand:hover, .nav-link:hover {
            color: #cccccc !important;
        }

        footer {
            background-color: #0b1a2f; /* Warna footer yang lebih gelap */
            color: #adb5bd;
            padding: 20px;
            text-align: center;
            margin-top: auto; /* Mendorong footer ke bawah */
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">Lowongan Kerja</a>
            <button
                class="navbar-toggler"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent"
                aria-expanded="false"
                aria-label="Toggle navigation"
            >
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" aria-current="page" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">Tentang Kami</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="#">Admin Panel</a>
                    </li>
                </ul>
                </form>
            </div>
        </div>
    </nav>

    <div class="container container-admin mt-5">
        <h2 class="mb-4">Daftar Pelamar Pekerjaan</h2>
        <div class="table-responsive">
            <table class="table table-bordered table-striped table-hover">
                <thead class="table-dark">
                    <tr>
                        <th>Posisi</th>
                        <th>Nama</th>
                        <th>Email</th>
                        <th>No HP</th>
                        <th>Tempat Lahir</th>
                        <th>Tanggal Lahir</th>
                        <th>Tanggal Lahir</th>
                        <th>Alamat</th>
                        <th>Waktu Daftar</th>
                        <th class="table-action-col">Aksi</th>
                    </tr>
                </thead>
                <tbody id="applicantTableBody">
                    </tbody>
            </table>
            <p id="noDataMessage" class="text-center no-data-message" style="display: none;">
                <i class="fas fa-info-circle me-2"></i>Tidak ada data pelamar yang tersedia saat ini.
            </p>
        </div>
    </div>

    <footer class="bg-dark text-center py-3">
        &copy; 2025 Lowongan Kerja. All rights reserved.
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    <script>
        const tbody = document.getElementById('applicantTableBody');
        const noDataMessage = document.getElementById('noDataMessage');

        // Fungsi untuk merender (menampilkan ulang) tabel
        function renderTable() {
            let pelamar = JSON.parse(localStorage.getItem('lamaranKerja')) || [];
            tbody.innerHTML = ''; // Kosongkan tabel sebelum diisi ulang

            if (pelamar.length === 0) {
                noDataMessage.style.display = 'block';
                return;
            } else {
                noDataMessage.style.display = 'none';
            }

            pelamar.forEach((data, index) => {
                const row = `
                    <tr>
                        <td>${data.job}</td>
                        <td>${data.nama}</td>
                        <td>${data.email}</td>
                        <td>${data.hp}</td>
                        <td>${data.tempatLahir}</td>
                        <td>${data.tanggalLahir}</td>
                        <td>${data.alamat}</td>
                        <td>${data.waktuDaftar}</td>
                        <td class="table-action-col">
                            <button class="btn btn-danger btn-sm" onclick="deleteApplicant(${index})">
                                <i class="fas fa-trash-alt"></i> Hapus
                            </button>
                        </td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
        }

        // Fungsi untuk menghapus pelamar
        function deleteApplicant(index) {
            let pelamar = JSON.parse(localStorage.getItem('lamaranKerja')) || [];

            // Konfirmasi sebelum menghapus
            if (confirm(`Apakah Anda yakin ingin menghapus data pelamar ${pelamar[index].nama} (${pelamar[index].job})?`)) {
                pelamar.splice(index, 1); // Hapus 1 elemen dari array pada indeks tertentu
                localStorage.setItem('lamaranKerja', JSON.stringify(pelamar)); // Simpan data yang sudah diperbarui ke localStorage
                renderTable(); // Render ulang tabel
            }
        }

        // Panggil fungsi renderTable saat halaman dimuat pertama kali
        document.addEventListener('DOMContentLoaded', renderTable);
    </script>
</body>
</html>